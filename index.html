<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üìä Stock Data Visualization Simulator</title>
    <style>
        :root {
            --primary: #2563eb;
            --primary-dark: #1d4ed8;
            --secondary: #7c3aed;
            --secondary-dark: #6d28d9;
            --success: #10b981;
            --success-dark: #059669;
            --warning: #f59e0b;
            --warning-dark: #d97706;
            --danger: #ef4444;
            --danger-dark: #dc2626;
            --dark: #1f2937;
            --darker: #111827;
            --light: #f8fafc;
            --lighter: #f1f5f9;
            --text: #374151;
            --text-light: #6b7280;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: var(--text);
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 24px;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            overflow: hidden;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        /* Header */
        .header {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 3rem 2rem;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 100" fill="rgba(255,255,255,0.1)"%3E%3Cpolygon points="0,100 1000,0 1000,100"/%3E%3C/svg%3E');
            background-size: cover;
        }
        
        .header-content {
            position: relative;
            z-index: 2;
        }
        
        .header h1 {
            font-size: 3rem;
            margin-bottom: 1rem;
            font-weight: 800;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }
        
        .header p {
            opacity: 0.95;
            font-size: 1.2rem;
            font-weight: 300;
            max-width: 600px;
            margin: 0 auto;
        }
        
        /* Main Content */
        .main-content {
            display: grid;
            grid-template-columns: 320px 1fr;
            min-height: 700px;
        }
        
        /* Sidebar - Steps Navigation */
        .steps-sidebar {
            background: linear-gradient(180deg, var(--lighter) 0%, white 100%);
            padding: 2rem 1.5rem;
            border-right: 1px solid #e5e7eb;
            position: relative;
        }
        
        .steps-sidebar::after {
            content: '';
            position: absolute;
            right: 0;
            top: 0;
            bottom: 0;
            width: 3px;
            background: linear-gradient(180deg, var(--primary), var(--secondary));
            opacity: 0.1;
        }
        
        .step-item {
            display: flex;
            align-items: center;
            padding: 1.25rem 1rem;
            margin-bottom: 0.75rem;
            border-radius: 16px;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            border: 2px solid transparent;
            background: white;
            box-shadow: 0 2px 8px rgba(0,0,0,0.04);
            position: relative;
            overflow: hidden;
        }
        
        .step-item::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 4px;
            background: var(--primary);
            transform: scaleY(0);
            transition: transform 0.3s ease;
        }
        
        .step-item:hover {
            background: #f0f9ff;
            transform: translateX(8px) scale(1.02);
            box-shadow: 0 8px 25px rgba(37, 99, 235, 0.15);
        }
        
        .step-item.active {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            border-color: var(--primary);
            transform: translateX(8px);
            box-shadow: 0 8px 25px rgba(37, 99, 235, 0.3);
        }
        
        .step-item.active::before {
            transform: scaleY(1);
        }
        
        .step-number {
            width: 40px;
            height: 40px;
            border-radius: 12px;
            background: var(--dark);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 1rem;
            font-weight: 700;
            font-size: 1.1rem;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        
        .step-item.active .step-number {
            background: white;
            color: var(--primary);
            transform: scale(1.1);
        }
        
        .step-text {
            font-weight: 600;
            flex: 1;
        }
        
        .step-status {
            margin-left: auto;
            font-size: 0.75rem;
            opacity: 0.8;
            font-weight: 500;
            padding: 0.25rem 0.5rem;
            border-radius: 20px;
            background: rgba(255,255,255,0.2);
        }
        
        .step-item.active .step-status {
            background: rgba(255,255,255,0.3);
        }
        
        /* Content Area */
        .content-area {
            padding: 2.5rem;
            position: relative;
            background: var(--light);
        }
        
        .step-content {
            display: none;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.5s ease;
        }
        
        .step-content.active {
            display: block;
            opacity: 1;
            transform: translateY(0);
            animation: slideInUp 0.6s ease-out;
        }
        
        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .step-header {
            margin-bottom: 2rem;
        }
        
        .step-header h2 {
            font-size: 2.2rem;
            font-weight: 700;
            color: var(--dark);
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .step-header p {
            font-size: 1.1rem;
            color: var(--text-light);
            line-height: 1.6;
        }
        
        /* File Upload */
        .upload-area {
            border: 3px dashed #cbd5e1;
            border-radius: 20px;
            padding: 4rem 3rem;
            text-align: center;
            margin-bottom: 2rem;
            transition: all 0.4s ease;
            background: white;
            position: relative;
            overflow: hidden;
        }
        
        .upload-area::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(37, 99, 235, 0.05), transparent);
            transition: left 0.6s ease;
        }
        
        .upload-area:hover::before {
            left: 100%;
        }
        
        .upload-area:hover {
            border-color: var(--primary);
            background: #f0f9ff;
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(37, 99, 235, 0.1);
        }
        
        .upload-area.dragover {
            border-color: var(--primary);
            background: #dbeafe;
            transform: scale(1.02);
        }
        
        .file-input {
            display: none;
        }
        
        .upload-btn {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 1rem 2rem;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            font-size: 1.1rem;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 8px 20px rgba(37, 99, 235, 0.3);
            position: relative;
            overflow: hidden;
        }
        
        .upload-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.5s ease;
        }
        
        .upload-btn:hover::before {
            left: 100%;
        }
        
        .upload-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 25px rgba(37, 99, 235, 0.4);
        }
        
        /* Code Blocks */
        .code-block {
            background: var(--darker);
            color: #e5e7eb;
            padding: 2rem;
            border-radius: 16px;
            margin: 1.5rem 0;
            font-family: 'JetBrains Mono', 'Fira Code', 'Courier New', monospace;
            position: relative;
            overflow-x: auto;
            border: 1px solid #374151;
            box-shadow: 0 8px 25px rgba(0,0,0,0.2);
        }
        
        .code-block::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
        }
        
        .copy-btn {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: #374151;
            color: white;
            border: none;
            padding: 0.75rem 1.25rem;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.85rem;
            font-weight: 600;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .copy-btn:hover {
            background: var(--primary);
            transform: translateY(-2px);
        }
        
        /* Output Display */
        .output-container {
            background: white;
            border: 2px solid #e5e7eb;
            border-radius: 16px;
            padding: 2rem;
            margin-top: 1.5rem;
            min-height: 250px;
            max-height: 500px;
            overflow-y: auto;
            box-shadow: 0 4px 20px rgba(0,0,0,0.05);
            transition: all 0.3s ease;
        }
        
        .output-container.loading {
            background: linear-gradient(90deg, #f8fafc 25%, #f1f5f9 50%, #f8fafc 75%);
            background-size: 200% 100%;
            animation: loading 1.5s infinite;
        }
        
        @keyframes loading {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }
        
        .output-line {
            padding: 0.75rem 0;
            border-bottom: 1px solid #f1f5f9;
            font-family: 'JetBrains Mono', 'Courier New', monospace;
            font-size: 0.95rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: all 0.3s ease;
        }
        
        .output-line:hover {
            background: #f8fafc;
            border-radius: 8px;
            padding-left: 1rem;
        }
        
        .output-line.success {
            color: var(--success);
            font-weight: 600;
        }
        
        .output-line.error {
            color: var(--danger);
            font-weight: 600;
        }
        
        .output-line.warning {
            color: var(--warning);
            font-weight: 600;
        }
        
        .output-line.info {
            color: var(--primary);
        }
        
        /* Control Buttons */
        .control-buttons {
            display: flex;
            gap: 1rem;
            margin-top: 2.5rem;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        .control-btn {
            padding: 1rem 2rem;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            font-size: 1.1rem;
            font-weight: 600;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.75rem;
            min-width: 140px;
            justify-content: center;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            position: relative;
            overflow: hidden;
        }
        
        .control-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.5s ease;
        }
        
        .control-btn:hover::before {
            left: 100%;
        }
        
        .btn-run {
            background: linear-gradient(135deg, var(--success), var(--success-dark));
            color: white;
        }
        
        .btn-run:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(16, 185, 129, 0.4);
        }
        
        .btn-reset {
            background: linear-gradient(135deg, var(--danger), var(--danger-dark));
            color: white;
        }
        
        .btn-reset:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(239, 68, 68, 0.4);
        }
        
        .btn-next {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
        }
        
        .btn-next:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(37, 99, 235, 0.4);
        }
        
        .btn-prev {
            background: linear-gradient(135deg, var(--warning), var(--warning-dark));
            color: white;
        }
        
        .btn-prev:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(245, 158, 11, 0.4);
        }
        
        /* Progress Bar */
        .progress-container {
            background: #e5e7eb;
            border-radius: 20px;
            height: 12px;
            margin: 2.5rem 0;
            overflow: hidden;
            position: relative;
            box-shadow: inset 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .progress-bar {
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            height: 100%;
            width: 0%;
            transition: width 0.8s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }
        
        .progress-bar::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            animation: shimmer 2s infinite;
        }
        
        @keyframes shimmer {
            0% { left: -100%; }
            100% { left: 100%; }
        }
        
        .progress-text {
            text-align: center;
            font-weight: 600;
            color: var(--text-light);
            margin-bottom: 0.5rem;
        }
        
        /* Loading Spinner */
        .loading-spinner {
            display: none;
            text-align: center;
            padding: 2rem;
        }
        
        .spinner {
            width: 50px;
            height: 50px;
            border: 4px solid #e5e7eb;
            border-top: 4px solid var(--primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 1rem;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* File List */
        .file-list {
            display: grid;
            gap: 1rem;
            margin-top: 1.5rem;
        }
        
        .file-item {
            background: white;
            padding: 1.5rem;
            border-radius: 12px;
            border: 2px solid #e5e7eb;
            display: flex;
            align-items: center;
            gap: 1rem;
            transition: all 0.3s ease;
        }
        
        .file-item:hover {
            border-color: var(--primary);
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(37, 99, 235, 0.1);
        }
        
        .file-icon {
            width: 48px;
            height: 48px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
        }
        
        .file-info {
            flex: 1;
        }
        
        .file-name {
            font-weight: 600;
            margin-bottom: 0.25rem;
        }
        
        .file-size {
            color: var(--text-light);
            font-size: 0.9rem;
        }
        
        /* Data Validation */
        .validation-result {
            background: white;
            border-radius: 16px;
            padding: 2rem;
            margin-top: 1.5rem;
            border: 2px solid #e5e7eb;
        }
        
        .validation-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem 0;
            border-bottom: 1px solid #f1f5f9;
        }
        
        .validation-item:last-child {
            border-bottom: none;
        }
        
        .validation-icon {
            width: 32px;
            height: 32px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }
        
        .validation-icon.success {
            background: var(--success);
            color: white;
        }
        
        .validation-icon.error {
            background: var(--danger);
            color: white;
        }
        
        .validation-icon.warning {
            background: var(--warning);
            color: white;
        }
        
        /* Responsive */
        @media (max-width: 1024px) {
            .main-content {
                grid-template-columns: 1fr;
            }
            
            .steps-sidebar {
                border-right: none;
                border-bottom: 1px solid #e5e7eb;
            }
            
            .header h1 {
                font-size: 2.5rem;
            }
        }
        
        @media (max-width: 768px) {
            .container {
                border-radius: 16px;
            }
            
            .header {
                padding: 2rem 1rem;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .content-area {
                padding: 1.5rem;
            }
            
            .step-header h2 {
                font-size: 1.8rem;
            }
            
            .control-buttons {
                flex-direction: column;
            }
            
            .control-btn {
                width: 100%;
            }
        }
        
        /* Chart Preview */
        .chart-preview {
            background: white;
            border-radius: 16px;
            padding: 2rem;
            margin-top: 1.5rem;
            border: 2px solid #e5e7eb;
            text-align: center;
        }
        
        .chart-placeholder {
            width: 100%;
            height: 300px;
            background: linear-gradient(135deg, #f1f5f9, #e2e8f0);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-light);
            font-weight: 600;
            margin-bottom: 1rem;
        }
        
        /* Statistics Grid */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }
        
        .stat-card {
            background: white;
            padding: 2rem;
            border-radius: 16px;
            text-align: center;
            border: 2px solid #e5e7eb;
            transition: all 0.3s ease;
        }
        
        .stat-card:hover {
            border-color: var(--primary);
            transform: translateY(-5px);
            box-shadow: 0 12px 25px rgba(37, 99, 235, 0.1);
        }
        
        .stat-value {
            font-size: 2.5rem;
            font-weight: 800;
            color: var(--primary);
            margin-bottom: 0.5rem;
        }
        
        .stat-label {
            color: var(--text-light);
            font-weight: 600;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="header-content">
                <h1>üìä Stock Data Visualization Simulator</h1>
                <p>M√¥ ph·ªèng quy tr√¨nh ph√¢n t√≠ch d·ªØ li·ªáu c·ªï phi·∫øu v·ªõi Python - Phi√™n b·∫£n n√¢ng c·∫•p</p>
            </div>
        </div>
        
        <div class="progress-text" id="progressText">Ti·∫øn ƒë·ªô: 0/10 b∆∞·ªõc (0%)</div>
        <div class="progress-container">
            <div class="progress-bar" id="progressBar"></div>
        </div>
        
        <div class="main-content">
            <!-- Sidebar v·ªõi c√°c b∆∞·ªõc -->
            <div class="steps-sidebar">
                <div class="step-item active" data-step="1">
                    <div class="step-number">1</div>
                    <div class="step-text">Upload Files</div>
                    <div class="step-status">Ch·ªù th·ª±c hi·ªán</div>
                </div>
                <div class="step-item" data-step="2">
                    <div class="step-number">2</div>
                    <div class="step-text">ƒê·ªçc d·ªØ li·ªáu</div>
                    <div class="step-status">Ch·ªù th·ª±c hi·ªán</div>
                </div>
                <div class="step-item" data-step="3">
                    <div class="step-number">3</div>
                    <div class="step-text">T√¨m m√£ c·ªï phi·∫øu</div>
                    <div class="step-status">Ch·ªù th·ª±c hi·ªán</div>
                </div>
                <div class="step-item" data-step="4">
                    <div class="step-number">4</div>
                    <div class="step-text">Th·ªëng k√™ c∆° b·∫£n</div>
                    <div class="step-status">Ch·ªù th·ª±c hi·ªán</div>
                </div>
                <div class="step-item" data-step="5">
                    <div class="step-number">5</div>
                    <div class="step-text">T·∫°o c·ªôt Info01</div>
                    <div class="step-status">Ch·ªù th·ª±c hi·ªán</div>
                </div>
                <div class="step-item" data-step="6">
                    <div class="step-number">6</div>
                    <div class="step-text">T·∫°o c·ªôt Info02</div>
                    <div class="step-status">Ch·ªù th·ª±c hi·ªán</div>
                </div>
                <div class="step-item" data-step="7">
                    <div class="step-number">7</div>
                    <div class="step-text">Ph√¢n t√≠ch xu h∆∞·ªõng</div>
                    <div class="step-status">Ch·ªù th·ª±c hi·ªán</div>
                </div>
                <div class="step-item" data-step="8">
                    <div class="step-number">8</div>
                    <div class="step-text">V·∫Ω bi·ªÉu ƒë·ªì</div>
                    <div class="step-status">Ch·ªù th·ª±c hi·ªán</div>
                </div>
                <div class="step-item" data-step="9">
                    <div class="step-number">9</div>
                    <div class="step-text">M√¥ h√¨nh h·ªìi quy</div>
                    <div class="step-status">Ch·ªù th·ª±c hi·ªán</div>
                </div>
                <div class="step-item" data-step="10">
                    <div class="step-number">10</div>
                    <div class="step-text">T·ªïng k·∫øt & Xu·∫•t file</div>
                    <div class="step-status">Ch·ªù th·ª±c hi·ªán</div>
                </div>
            </div>
            
            <!-- N·ªôi dung ch√≠nh -->
            <div class="content-area">
                <!-- Step 1: Upload Files -->
                <div class="step-content active" id="step1">
                    <div class="step-header">
                        <h2>üìÅ B∆∞·ªõc 1: Upload Files D·ªØ li·ªáu</h2>
                        <p>T·∫£i l√™n 2 file CSV c·∫ßn thi·∫øt cho ph√¢n t√≠ch. H·ªá th·ªëng s·∫Ω t·ª± ƒë·ªông ki·ªÉm tra t√≠nh h·ª£p l·ªá c·ªßa d·ªØ li·ªáu.</p>
                    </div>
                    
                    <div class="upload-area" id="uploadArea">
                        <input type="file" id="fileInput" class="file-input" accept=".csv" multiple="multiple">
                        <button class="upload-btn" onclick="document.getElementById('fileInput').click()">
                            üìé Ch·ªçn Files CSV
                        </button>
                        <p style="margin-top: 1.5rem; color: #64748b; font-size: 1.1rem;">
                            K√©o th·∫£ file v√†o ƒë√¢y ho·∫∑c click ƒë·ªÉ ch·ªçn<br>
                            <small style="font-size: 0.95rem;">Y√™u c·∫ßu: vnstock_listing_companies.csv v√† SZL.csv</small>
                        </p>
                    </div>
                    
                    <div class="file-list" id="fileList">
                        <!-- Danh s√°ch file s·∫Ω hi·ªÉn th·ªã ·ªü ƒë√¢y -->
                    </div>
                    
                    <div class="validation-result" id="validationResult1" style="display: none;">
                        <h3 style="margin-bottom: 1.5rem; color: #1f2937;">üîç K·∫øt qu·∫£ ki·ªÉm tra d·ªØ li·ªáu:</h3>
                        <div id="validationContent1"></div>
                    </div>
                    
                    <div class="loading-spinner" id="loading1">
                        <div class="spinner"></div>
                        <p>ƒêang ki·ªÉm tra v√† x√°c th·ª±c d·ªØ li·ªáu...</p>
                    </div>
                    
                    <div class="control-buttons">
                        <button class="control-btn btn-run" onclick="runStep(1)">
                            <span>üöÄ Ch·∫°y B∆∞·ªõc 1</span>
                        </button>
                        <button class="control-btn btn-reset" onclick="resetStep(1)">
                            <span>üîÑ Reset</span>
                        </button>
                        <button class="control-btn btn-next" onclick="nextStep()" disabled="disabled" id="nextBtn1">
                            <span>Ti·∫øp theo ‚Üí</span>
                        </button>
                    </div>
                </div>
                
                <!-- Step 2: ƒê·ªçc d·ªØ li·ªáu -->
                <div class="step-content" id="step2">
                    <div class="step-header">
                        <h2>üìñ B∆∞·ªõc 2: ƒê·ªçc v√† Hi·ªÉu D·ªØ li·ªáu</h2>
                        <p>ƒê·ªçc file CSV v√† hi·ªÉn th·ªã th√¥ng tin c∆° b·∫£n v·ªÅ c·∫•u tr√∫c d·ªØ li·ªáu, ki·ªÉm tra t√≠nh to√†n v·∫πn c·ªßa d·ªØ li·ªáu.</p>
                    </div>
                    
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">
                            <span>üìã Copy</span>
                        </button>
                        <code># ƒê·ªçc file danh s√°ch c√¥ng ty
import pandas as pd

df_listings = pd.read_csv("vnstock_listing_companies.csv")

print("Danh s√°ch c√°c c·ªôt:")
print(list(df_listings.columns))
print("\nS·ªë d√≤ng d·ªØ li·ªáu:", len(df_listings))

# Ki·ªÉm tra d·ªØ li·ªáu missing
print("\nKi·ªÉm tra d·ªØ li·ªáu thi·∫øu:")
print(df_listings.isnull().sum())</code>
                    </div>
                    
                    <div class="output-container" id="output2">
                        <!-- K·∫øt qu·∫£ s·∫Ω hi·ªÉn th·ªã ·ªü ƒë√¢y -->
                    </div>
                    
                    <div class="loading-spinner" id="loading2">
                        <div class="spinner"></div>
                        <p>ƒêang ƒë·ªçc v√† ph√¢n t√≠ch d·ªØ li·ªáu...</p>
                    </div>
                    
                    <div class="control-buttons">
                        <button class="control-btn btn-prev" onclick="prevStep()">
                            <span>‚Üê Quay l·∫°i</span>
                        </button>
                        <button class="control-btn btn-run" onclick="runStep(2)">
                            <span>üöÄ Ch·∫°y B∆∞·ªõc 2</span>
                        </button>
                        <button class="control-btn btn-reset" onclick="resetStep(2)">
                            <span>üîÑ Reset</span>
                        </button>
                        <button class="control-btn btn-next" onclick="nextStep()" disabled="disabled" id="nextBtn2">
                            <span>Ti·∫øp theo ‚Üí</span>
                        </button>
                    </div>
                </div>

                <!-- Step 3: T√¨m m√£ c·ªï phi·∫øu -->
                <div class="step-content" id="step3">
                    <div class="step-header">
                        <h2>üîç B∆∞·ªõc 3: T√¨m M√£ C·ªï Phi·∫øu t·ª´ MSSV</h2>
                        <p>T√¨m m√£ c·ªï phi·∫øu d·ª±a tr√™n MSSV theo quy t·∫Øc ƒë·ªÅ b√†i. X√°c ƒë·ªãnh m√£ SZL t·ª´ MSSV 23133055.</p>
                    </div>
                    
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">
                            <span>üìã Copy</span>
                        </button>
                        <code>def find_stock(mssv, listings_df):
    mssv_str = str(mssv)
    last4 = mssv_str[-4:]
    remainder = int(last4) % 1000
    idx = remainder % len(listings_df)
    row = listings_df.iloc[idx]
    return idx, row['ticker'], row['shortName'], row['monthlyRecords']

mssv = 23133055
idx, ticker_X, shortName_X, monthlyRecords_X = find_stock(mssv, df_listings)

print(f"MSSV: {mssv}")
print(f"4 ch·ªØ s·ªë cu·ªëi: {str(mssv)[-4:]}")
print(f"Index d√πng: {idx}")
print(f"Ticker ƒë∆∞·ª£c ch·ªçn: {ticker_X}")
print(f"T√™n c√¥ng ty: {shortName_X}")
print(f"File l·ªãch s·ª≠: {monthlyRecords_X}")</code>
                    </div>
                    
                    <div class="output-container" id="output3">
                        <!-- K·∫øt qu·∫£ s·∫Ω hi·ªÉn th·ªã ·ªü ƒë√¢y -->
                    </div>
                    
                    <div class="loading-spinner" id="loading3">
                        <div class="spinner"></div>
                        <p>ƒêang t√¨m ki·∫øm m√£ c·ªï phi·∫øu...</p>
                    </div>
                    
                    <div class="control-buttons">
                        <button class="control-btn btn-prev" onclick="prevStep()">
                            <span>‚Üê Quay l·∫°i</span>
                        </button>
                        <button class="control-btn btn-run" onclick="runStep(3)">
                            <span>üöÄ Ch·∫°y B∆∞·ªõc 3</span>
                        </button>
                        <button class="control-btn btn-reset" onclick="resetStep(3)">
                            <span>üîÑ Reset</span>
                        </button>
                        <button class="control-btn btn-next" onclick="nextStep()" disabled="disabled" id="nextBtn3">
                            <span>Ti·∫øp theo ‚Üí</span>
                        </button>
                    </div>
                </div>

                <!-- Step 4: Th·ªëng k√™ c∆° b·∫£n -->
                <div class="step-content" id="step4">
                    <div class="step-header">
                        <h2>üìä B∆∞·ªõc 4: Th·ªëng K√™ C∆° B·∫£n</h2>
                        <p>Th·ªëng k√™ d·ªØ li·ªáu giao d·ªãch th√°ng 8-9/2023, ph√¢n t√≠ch c√°c ch·ªâ s·ªë quan tr·ªçng c·ªßa c·ªï phi·∫øu SZL.</p>
                    </div>
                    
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">
                            <span>üìã Copy</span>
                        </button>
                        <code># ƒê·ªçc file l·ªãch s·ª≠ giao d·ªãch
df_hist = pd.read_csv(f"{ticker_X}.csv")
df_hist.rename(columns={'time': 'Date'}, inplace=True)
df_hist['Date'] = pd.to_datetime(df_hist['Date'])

# L·ªçc d·ªØ li·ªáu th√°ng 8-9/2023
start_date = '2023-08-01'
end_date = '2023-09-30'
mask = (df_hist['Date'] >= start_date) & (df_hist['Date'] <= end_date)
df_period = df_hist.loc[mask].copy()

# Th·ªëng k√™ c∆° b·∫£n
stats = {
    'S·ªë ng√†y giao d·ªãch': len(df_period),
    'T·ªïng kh·ªëi l∆∞·ª£ng': int(df_period['volume'].sum()),
    'Kh·ªëi l∆∞·ª£ng trung b√¨nh': float(df_period['volume'].mean()),
    'Gi√° Close trung b√¨nh': float(df_period['close'].mean()),
    'Gi√° Close cao nh·∫•t': float(df_period['close'].max()),
    'Gi√° Close th·∫•p nh·∫•t': float(df_period['close'].min()),
    'Bi√™n ƒë·ªô gi√° trung b√¨nh': float((df_period['high'] - df_period['low']).mean())
}</code>
                    </div>
                    
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-value" id="statDays">0</div>
                            <div class="stat-label">Ng√†y giao d·ªãch</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="statVolume">0</div>
                            <div class="stat-label">T·ªïng kh·ªëi l∆∞·ª£ng</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="statAvgPrice">0</div>
                            <div class="stat-label">Gi√° TB</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="statRange">0</div>
                            <div class="stat-label">Bi√™n ƒë·ªô TB</div>
                        </div>
                    </div>
                    
                    <div class="output-container" id="output4">
                        <!-- K·∫øt qu·∫£ s·∫Ω hi·ªÉn th·ªã ·ªü ƒë√¢y -->
                    </div>
                    
                    <div class="loading-spinner" id="loading4">
                        <div class="spinner"></div>
                        <p>ƒêang ph√¢n t√≠ch v√† th·ªëng k√™ d·ªØ li·ªáu...</p>
                    </div>
                    
                    <div class="control-buttons">
                        <button class="control-btn btn-prev" onclick="prevStep()">
                            <span>‚Üê Quay l·∫°i</span>
                        </button>
                        <button class="control-btn btn-run" onclick="runStep(4)">
                            <span>üöÄ Ch·∫°y B∆∞·ªõc 4</span>
                        </button>
                        <button class="control-btn btn-reset" onclick="resetStep(4)">
                            <span>üîÑ Reset</span>
                        </button>
                        <button class="control-btn btn-next" onclick="nextStep()" disabled="disabled" id="nextBtn4">
                            <span>Ti·∫øp theo ‚Üí</span>
                        </button>
                    </div>
                </div>

                <!-- Step 5: T·∫°o c·ªôt Info01 -->
                <div class="step-content" id="step5">
                    <div class="step-header">
                        <h2>üìà B∆∞·ªõc 5: T·∫°o C·ªôt Info01</h2>
                        <p>T·∫°o c·ªôt Info01 so s√°nh gi√° Close v·ªõi Open trong c√πng ng√†y, ph√¢n t√≠ch xu h∆∞·ªõng gi√° trong ng√†y.</p>
                    </div>
                    
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">
                            <span>üìã Copy</span>
                        </button>
                        <code>def compare_values(a, b):
    if pd.isna(a) or pd.isna(b):
        return 0
    if a > b:
        return 1
    elif a < b:
        return -1
    else:
        return 0

# T·∫°o c·ªôt Info01: Close vs Open
df_period['Info01'] = df_period.apply(
    lambda row: compare_values(row['close'], row['open']), axis=1
)

print("Ph√¢n b·ªë gi√° tr·ªã Info01:")
print(df_period['Info01'].value_counts().sort_index())
print("\nGi·∫£i th√≠ch: 1=Close>Open, -1=Close<Open, 0=Close=Open")</code>
                    </div>
                    
                    <div class="output-container" id="output5">
                        <!-- K·∫øt qu·∫£ s·∫Ω hi·ªÉn th·ªã ·ªü ƒë√¢y -->
                    </div>
                    
                    <div class="loading-spinner" id="loading5">
                        <div class="spinner"></div>
                        <p>ƒêang x·ª≠ l√Ω v√† ph√¢n t√≠ch d·ªØ li·ªáu...</p>
                    </div>
                    
                    <div class="control-buttons">
                        <button class="control-btn btn-prev" onclick="prevStep()">
                            <span>‚Üê Quay l·∫°i</span>
                        </button>
                        <button class="control-btn btn-run" onclick="runStep(5)">
                            <span>üöÄ Ch·∫°y B∆∞·ªõc 5</span>
                        </button>
                        <button class="control-btn btn-reset" onclick="resetStep(5)">
                            <span>üîÑ Reset</span>
                        </button>
                        <button class="control-btn btn-next" onclick="nextStep()" disabled="disabled" id="nextBtn5">
                            <span>Ti·∫øp theo ‚Üí</span>
                        </button>
                    </div>
                </div>

                <!-- Step 6: T·∫°o c·ªôt Info02 -->
                <div class="step-content" id="step6">
                    <div class="step-header">
                        <h2>üìâ B∆∞·ªõc 6: T·∫°o C·ªôt Info02</h2>
                        <p>T·∫°o c·ªôt Info02 so s√°nh gi√° Close v·ªõi Close ng√†y tr∆∞·ªõc ƒë√≥, ph√¢n t√≠ch xu h∆∞·ªõng gi√° li√™n ti·∫øp.</p>
                    </div>
                    
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">
                            <span>üìã Copy</span>
                        </button>
                        <code># S·∫Øp x·∫øp theo ng√†y
df_period = df_period.sort_values('Date').reset_index(drop=True)

# T·∫°o c·ªôt Close ng√†y tr∆∞·ªõc
df_period['Prev_Close'] = df_period['close'].shift(1)

# T·∫°o c·ªôt Info02
df_period['Info02'] = df_period.apply(
    lambda row: compare_values(row['close'], row['Prev_Close']), axis=1
)

# X√≥a c·ªôt t·∫°m
df_period.drop('Prev_Close', axis=1, inplace=True)

print("Ph√¢n b·ªë gi√° tr·ªã Info02:")
info02_counts = df_period['Info02'].value_counts().sort_index()
print(info02_counts)

# T√≠nh t·ª∑ l·ªá
total_days = len(df_period)
up_days = info02_counts.get(1, 0)
down_days = info02_counts.get(-1, 0)
equal_days = info02_counts.get(0, 0)

print(f"\nT·ª∑ l·ªá bi·∫øn ƒë·ªông:")
print(f"S·ªë ng√†y tƒÉng: {up_days} ({up_days/total_days*100:.1f}%)")
print(f"S·ªë ng√†y gi·∫£m: {down_days} ({down_days/total_days*100:.1f}%)")
print(f"S·ªë ng√†y kh√¥ng ƒë·ªïi: {equal_days} ({equal_days/total_days*100:.1f}%)")</code>
                    </div>
                    
                    <div class="output-container" id="output6">
                        <!-- K·∫øt qu·∫£ s·∫Ω hi·ªÉn th·ªã ·ªü ƒë√¢y -->
                    </div>
                    
                    <div class="loading-spinner" id="loading6">
                        <div class="spinner"></div>
                        <p>ƒêang ph√¢n t√≠ch xu h∆∞·ªõng gi√°...</p>
                    </div>
                    
                    <div class="control-buttons">
                        <button class="control-btn btn-prev" onclick="prevStep()">
                            <span>‚Üê Quay l·∫°i</span>
                        </button>
                        <button class="control-btn btn-run" onclick="runStep(6)">
                            <span>üöÄ Ch·∫°y B∆∞·ªõc 6</span>
                        </button>
                        <button class="control-btn btn-reset" onclick="resetStep(6)">
                            <span>üîÑ Reset</span>
                        </button>
                        <button class="control-btn btn-next" onclick="nextStep()" disabled="disabled" id="nextBtn6">
                            <span>Ti·∫øp theo ‚Üí</span>
                        </button>
                    </div>
                </div>

                <!-- Step 7: Ph√¢n t√≠ch xu h∆∞·ªõng -->
                <div class="step-content" id="step7">
                    <div class="step-header">
                        <h2>üìä B∆∞·ªõc 7: Ph√¢n T√≠ch Xu H∆∞·ªõng</h2>
                        <p>Ph√¢n t√≠ch chi ti·∫øt xu h∆∞·ªõng gi√°, volume v√† m·ªëi quan h·ªá gi·ªØa c√°c ch·ªâ s·ªë.</p>
                    </div>
                    
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">
                            <span>üìã Copy</span>
                        </button>
                        <code># Ph√¢n t√≠ch t∆∞∆°ng quan
correlation = df_period['volume'].corr(df_period['close'])
print(f"H·ªá s·ªë t∆∞∆°ng quan Volume-Close: {correlation:.4f}")

# Ph√¢n t√≠ch theo tu·∫ßn
df_period['Week'] = df_period['Date'].dt.isocalendar().week
weekly_stats = df_period.groupby('Week').agg({
    'close': ['mean', 'std'],
    'volume': 'sum',
    'Info02': lambda x: (x == 1).sum()
}).round(2)

print("\nTh·ªëng k√™ theo tu·∫ßn:")
print(weekly_stats)

# Ph√¢n t√≠ch volume abnormal
volume_mean = df_period['volume'].mean()
volume_std = df_period['volume'].std()
abnormal_volume = df_period[df_period['volume'] > volume_mean + 2*volume_std]
print(f"\nS·ªë ng√†y c√≥ volume b·∫•t th∆∞·ªùng: {len(abnormal_volume)}")</code>
                    </div>
                    
                    <div class="output-container" id="output7">
                        <!-- K·∫øt qu·∫£ s·∫Ω hi·ªÉn th·ªã ·ªü ƒë√¢y -->
                    </div>
                    
                    <div class="loading-spinner" id="loading7">
                        <div class="spinner"></div>
                        <p>ƒêang ph√¢n t√≠ch xu h∆∞·ªõng v√† t∆∞∆°ng quan...</p>
                    </div>
                    
                    <div class="control-buttons">
                        <button class="control-btn btn-prev" onclick="prevStep()">
                            <span>‚Üê Quay l·∫°i</span>
                        </button>
                        <button class="control-btn btn-run" onclick="runStep(7)">
                            <span>üöÄ Ch·∫°y B∆∞·ªõc 7</span>
                        </button>
                        <button class="control-btn btn-reset" onclick="resetStep(7)">
                            <span>üîÑ Reset</span>
                        </button>
                        <button class="control-btn btn-next" onclick="nextStep()" disabled="disabled" id="nextBtn7">
                            <span>Ti·∫øp theo ‚Üí</span>
                        </button>
                    </div>
                </div>

                <!-- Step 8: V·∫Ω bi·ªÉu ƒë·ªì -->
                <div class="step-content" id="step8">
                    <div class="step-header">
                        <h2>üìà B∆∞·ªõc 8: V·∫Ω Bi·ªÉu ƒê·ªì</h2>
                        <p>Tr·ª±c quan h√≥a d·ªØ li·ªáu th√¥ng qua c√°c bi·ªÉu ƒë·ªì ƒë∆∞·ªùng v√† bi·ªÉu ƒë·ªì c·ªôt.</p>
                    </div>
                    
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">
                            <span>üìã Copy</span>
                        </button>
                        <code>import matplotlib.pyplot as plt
import seaborn as sns

# Bi·ªÉu ƒë·ªì ƒë∆∞·ªùng gi√°
plt.figure(figsize=(14, 8))
plt.plot(df_period['Date'], df_period['close'], label='Close', linewidth=2, marker='o')
plt.plot(df_period['Date'], df_period['open'], label='Open', linewidth=2, marker='s')
plt.title(f'{ticker_X} - Bi·ªÉu ƒë·ªì gi√° (08-09/2023)')
plt.xlabel('Date')
plt.ylabel('Price')
plt.legend()
plt.grid(True, alpha=0.3)
plt.xticks(rotation=45)
plt.tight_layout()
plt.show()

# Bi·ªÉu ƒë·ªì volume
plt.figure(figsize=(14, 6))
plt.bar(df_period['Date'], df_period['volume'], alpha=0.7)
plt.title(f'{ticker_X} - Kh·ªëi l∆∞·ª£ng giao d·ªãch')
plt.xlabel('Date')
plt.ylabel('Volume')
plt.xticks(rotation=45)
plt.tight_layout()
plt.show()</code>
                    </div>
                    
                    <div class="chart-preview">
                        <div class="chart-placeholder">
                            üìä Bi·ªÉu ƒë·ªì s·∫Ω ƒë∆∞·ª£c hi·ªÉn th·ªã t·∫°i ƒë√¢y
                        </div>
                        <p>Bi·ªÉu ƒë·ªì th·ªÉ hi·ªán xu h∆∞·ªõng gi√° v√† kh·ªëi l∆∞·ª£ng giao d·ªãch c·ªßa c·ªï phi·∫øu SZL</p>
                    </div>
                    
                    <div class="output-container" id="output8">
                        <!-- K·∫øt qu·∫£ s·∫Ω hi·ªÉn th·ªã ·ªü ƒë√¢y -->
                    </div>
                    
                    <div class="loading-spinner" id="loading8">
                        <div class="spinner"></div>
                        <p>ƒêang t·∫°o v√† hi·ªÉn th·ªã bi·ªÉu ƒë·ªì...</p>
                    </div>
                    
                    <div class="control-buttons">
                        <button class="control-btn btn-prev" onclick="prevStep()">
                            <span>‚Üê Quay l·∫°i</span>
                        </button>
                        <button class="control-btn btn-run" onclick="runStep(8)">
                            <span>üöÄ Ch·∫°y B∆∞·ªõc 8</span>
                        </button>
                        <button class="control-btn btn-reset" onclick="resetStep(8)">
                            <span>üîÑ Reset</span>
                        </button>
                        <button class="control-btn btn-next" onclick="nextStep()" disabled="disabled" id="nextBtn8">
                            <span>Ti·∫øp theo ‚Üí</span>
                        </button>
                    </div>
                </div>

                <!-- Step 9: M√¥ h√¨nh h·ªìi quy -->
                <div class="step-content" id="step9">
                    <div class="step-header">
                        <h2>ü§ñ B∆∞·ªõc 9: M√¥ H√¨nh H·ªìi Quy</h2>
                        <p>X√¢y d·ª±ng m√¥ h√¨nh h·ªìi quy tuy·∫øn t√≠nh ƒë·ªÉ d·ª± ƒëo√°n gi√° Close d·ª±a tr√™n Volume.</p>
                    </div>
                    
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">
                            <span>üìã Copy</span>
                        </button>
                        <code>from sklearn.linear_model import LinearRegression
from sklearn.model_selection import train_test_split
from sklearn.metrics import mean_squared_error, r2_score
import numpy as np

# Chu·∫©n b·ªã d·ªØ li·ªáu
df_model = df_period[['close', 'volume']].dropna().copy()
X = df_model[['volume']].values
y = df_model['close'].values

# Chia d·ªØ li·ªáu train/test
X_train, X_test, y_train, y_test = train_test_split(
    X, y, test_size=0.2, random_state=42
)

# Hu·∫•n luy·ªán m√¥ h√¨nh
model = LinearRegression()
model.fit(X_train, y_train)

# D·ª± ƒëo√°n v√† ƒë√°nh gi√°
y_pred = model.predict(X_test)
mse = mean_squared_error(y_test, y_pred)
rmse = np.sqrt(mse)
r2 = r2_score(y_test, y_pred)

print("K·∫æT QU·∫¢ M√î H√åNH H·ªíI QUY:")
print(f"H·ªá s·ªë h·ªìi quy: {model.coef_[0]:.8f}")
print(f"Intercept: {model.intercept_:.2f}")
print(f"R¬≤ (ƒê·ªô ph√π h·ª£p): {r2:.4f}")
print(f"RMSE (Sai s·ªë): {rmse:.2f}")

# D·ª± ƒëo√°n cho 10 gi√° tr·ªã volume m·∫´u
sample_volumes = [1000, 5000, 10000, 25000, 50000, 75000, 100000, 250000, 500000, 1000000]
predictions = model.predict(np.array(sample_volumes).reshape(-1, 1))

print("\nD·ª∞ ƒêO√ÅN CHO 10 GI√Å TR·ªä VOLUME:")
for vol, pred in zip(sample_volumes, predictions):
    print(f"Volume = {vol:>8,} ‚Üí Predicted Close = {pred:>8.0f}")</code>
                    </div>
                    
                    <div class="output-container" id="output9">
                        <!-- K·∫øt qu·∫£ s·∫Ω hi·ªÉn th·ªã ·ªü ƒë√¢y -->
                    </div>
                    
                    <div class="loading-spinner" id="loading9">
                        <div class="spinner"></div>
                        <p>ƒêang hu·∫•n luy·ªán m√¥ h√¨nh h·ªìi quy...</p>
                    </div>
                    
                    <div class="control-buttons">
                        <button class="control-btn btn-prev" onclick="prevStep()">
                            <span>‚Üê Quay l·∫°i</span>
                        </button>
                        <button class="control-btn btn-run" onclick="runStep(9)">
                            <span>üöÄ Ch·∫°y B∆∞·ªõc 9</span>
                        </button>
                        <button class="control-btn btn-reset" onclick="resetStep(9)">
                            <span>üîÑ Reset</span>
                        </button>
                        <button class="control-btn btn-next" onclick="nextStep()" disabled="disabled" id="nextBtn9">
                            <span>Ti·∫øp theo ‚Üí</span>
                        </button>
                    </div>
                </div>

                <!-- Step 10: T·ªïng k·∫øt -->
                <div class="step-content" id="step10">
                    <div class="step-header">
                        <h2>üéØ B∆∞·ªõc 10: T·ªïng K·∫øt & Xu·∫•t File</h2>
                        <p>T·ªïng k·∫øt k·∫øt qu·∫£ ph√¢n t√≠ch v√† xu·∫•t file k·∫øt qu·∫£ cu·ªëi c√πng.</p>
                    </div>
                    
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">
                            <span>üìã Copy</span>
                        </button>
                        <code># L∆∞u file k·∫øt qu·∫£
output_dir = 'output'
os.makedirs(output_dir, exist_ok=True)
output_file = os.path.join(output_dir, f"{ticker_X}_Stock.csv")

df_period.to_csv(output_file, index=False, encoding='utf-8-sig')

print("üéâ PH√ÇN T√çCH HO√ÄN T·∫§T!")
print(f"üìÅ File k·∫øt qu·∫£: {output_file}")
print(f"üìä K√≠ch th∆∞·ªõc d·ªØ li·ªáu: {df_period.shape}")

# T·ªïng k·∫øt k·∫øt qu·∫£
print("\nüìà T·ªîNG K·∫æT PH√ÇN T√çCH:")
print(f"‚Ä¢ M√£ c·ªï phi·∫øu: {ticker_X} - {shortName_X}")
print(f"‚Ä¢ S·ªë ng√†y ph√¢n t√≠ch: {len(df_period)}")
print(f"‚Ä¢ Gi√° Close trung b√¨nh: {df_period['close'].mean():.0f}")
print(f"‚Ä¢ T·ªïng kh·ªëi l∆∞·ª£ng: {df_period['volume'].sum():,}")
print(f"‚Ä¢ S·ªë ng√†y tƒÉng/gi·∫£m: {len(df_period[df_period['Info02'] == 1])}/{len(df_period[df_period['Info02'] == -1])}")
print(f"‚Ä¢ Ch·∫•t l∆∞·ª£ng m√¥ h√¨nh h·ªìi quy: R¬≤ = {r2:.4f}")

print("\n‚úÖ T·∫•t c·∫£ c√°c b∆∞·ªõc ƒë√£ ƒë∆∞·ª£c ho√†n th√†nh th√†nh c√¥ng!")</code>
                    </div>
                    
                    <div class="output-container" id="output10">
                        <!-- K·∫øt qu·∫£ s·∫Ω hi·ªÉn th·ªã ·ªü ƒë√¢y -->
                    </div>
                    
                    <div class="validation-result">
                        <h3 style="margin-bottom: 1.5rem; color: #1f2937;">üìã B√°o c√°o ho√†n th√†nh:</h3>
                        <div id="completionReport"></div>
                    </div>
                    
                    <div class="loading-spinner" id="loading10">
                        <div class="spinner"></div>
                        <p>ƒêang t·ªïng k·∫øt v√† xu·∫•t file k·∫øt qu·∫£...</p>
                    </div>
                    
                    <div class="control-buttons">
                        <button class="control-btn btn-prev" onclick="prevStep()">
                            <span>‚Üê Quay l·∫°i</span>
                        </button>
                        <button class="control-btn btn-run" onclick="runStep(10)">
                            <span>üöÄ Ch·∫°y B∆∞·ªõc 10</span>
                        </button>
                        <button class="control-btn btn-reset" onclick="resetAll()">
                            <span>üîÑ Reset T·∫•t C·∫£</span>
                        </button>
                        <button class="control-btn btn-next" onclick="downloadResults()" disabled="disabled" id="nextBtn10">
                            <span>üì• T·∫£i K·∫øt Qu·∫£</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Bi·∫øn to√†n c·ª•c
        let currentStep = 1;
        const totalSteps = 10;
        let uploadedFiles = [];
        let completedSteps = new Set();
        
        // H√†m chuy·ªÉn step
        function goToStep(stepNumber) {
            // ·∫®n t·∫•t c·∫£ steps
            document.querySelectorAll('.step-content').forEach(step => {
                step.classList.remove('active');
            });
            document.querySelectorAll('.step-item').forEach(item => {
                item.classList.remove('active');
            });
            
            // Hi·ªÉn th·ªã step ƒë∆∞·ª£c ch·ªçn
            const stepElement = document.getElementById(`step${stepNumber}`);
            const stepItem = document.querySelector(`.step-item[data-step="${stepNumber}"]`);
            
            if (stepElement && stepItem) {
                stepElement.classList.add('active');
                stepItem.classList.add('active');
                
                // C·∫≠p nh·∫≠t progress bar
                updateProgressBar();
                
                currentStep = stepNumber;
            }
        }
        
        // H√†m c·∫≠p nh·∫≠t progress bar
        function updateProgressBar() {
            const progress = ((currentStep - 1) / (totalSteps - 1)) * 100;
            document.getElementById('progressBar').style.width = `${progress}%`;
            document.getElementById('progressText').textContent = 
                `Ti·∫øn ƒë·ªô: ${currentStep - 1}/${totalSteps} b∆∞·ªõc (${Math.round(progress)}%)`;
        }
        
        // H√†m ch·∫°y step v·ªõi loading
        function runStep(stepNumber) {
            const outputContainer = document.getElementById(`output${stepNumber}`);
            const loadingElement = document.getElementById(`loading${stepNumber}`);
            const nextButton = document.getElementById(`nextBtn${stepNumber}`);
            
            if (!outputContainer || !loadingElement) return;
            
            // Hi·ªÉn th·ªã loading
            outputContainer.style.display = 'none';
            loadingElement.style.display = 'block';
            outputContainer.classList.add('loading');
            
            // Disable n√∫t run
            const runButton = document.querySelector(`#step${stepNumber} .btn-run`);
            if (runButton) runButton.disabled = true;
            
            // Gi·∫£ l·∫≠p delay x·ª≠ l√Ω
            setTimeout(() => {
                // ·∫®n loading, hi·ªÉn th·ªã output
                loadingElement.style.display = 'none';
                outputContainer.style.display = 'block';
                outputContainer.classList.remove('loading');
                
                // Ch·∫°y simulation
                simulateStep(stepNumber, outputContainer);
                
                // K√≠ch ho·∫°t n√∫t Next v√† c·∫≠p nh·∫≠t tr·∫°ng th√°i
                if (nextButton) {
                    nextButton.disabled = false;
                }
                
                // C·∫≠p nh·∫≠t tr·∫°ng th√°i step
                const stepStatus = document.querySelector(`.step-item[data-step="${stepNumber}"] .step-status`);
                if (stepStatus) {
                    stepStatus.textContent = '‚úÖ ƒê√£ ho√†n th√†nh';
                    stepStatus.style.color = '#10b981';
                }
                
                // Th√™m v√†o completed steps
                completedSteps.add(stepNumber);
                
                // Enable n√∫t run
                if (runButton) runButton.disabled = false;
                
            }, 2000 + Math.random() * 1000); // Random delay 2-3 seconds
        }
        
        // H√†m gi·∫£ l·∫≠p c√°c step
        function simulateStep(stepNumber, outputContainer) {
            outputContainer.innerHTML = '';
            
            switch(stepNumber) {
                case 1:
                    simulateStep1(outputContainer);
                    break;
                case 2:
                    simulateStep2(outputContainer);
                    break;
                case 3:
                    simulateStep3(outputContainer);
                    break;
                case 4:
                    simulateStep4(outputContainer);
                    break;
                case 5:
                    simulateStep5(outputContainer);
                    break;
                case 6:
                    simulateStep6(outputContainer);
                    break;
                case 7:
                    simulateStep7(outputContainer);
                    break;
                case 8:
                    simulateStep8(outputContainer);
                    break;
                case 9:
                    simulateStep9(outputContainer);
                    break;
                case 10:
                    simulateStep10(outputContainer);
                    break;
            }
        }
        
        // C√°c h√†m simulateStep gi·ªØ nguy√™n t·ª´ code tr∆∞·ªõc, nh∆∞ng ƒë∆∞·ª£c c·∫≠p nh·∫≠t v·ªõi n·ªôi dung m·ªõi
        function simulateStep1(outputContainer) {
            addOutput(outputContainer, 'üîç ƒêang ki·ªÉm tra files upload...', 'warning');
            addOutput(outputContainer, 'üìÅ Qu√©t th∆∞ m·ª•c v√† x√°c th·ª±c ƒë·ªãnh d·∫°ng...', 'info');
            
            setTimeout(() => {
                if (uploadedFiles.length >= 2) {
                    addOutput(outputContainer, '‚úÖ ƒê√£ t√¨m th·∫•y file vnstock_listing_companies.csv', 'success');
                    addOutput(outputContainer, '‚úÖ ƒê√£ t√¨m th·∫•y file SZL.csv', 'success');
                    addOutput(outputContainer, 'üìä Ki·ªÉm tra k√≠ch th∆∞·ªõc files...', 'info');
                    addOutput(outputContainer, 'üîí X√°c th·ª±c t√≠nh to√†n v·∫πn d·ªØ li·ªáu...', 'info');
                    addOutput(outputContainer, 'üéØ T·∫•t c·∫£ files ƒë√£ s·∫µn s√†ng cho ph√¢n t√≠ch!', 'success');
                    
                    // Hi·ªÉn th·ªã validation result
                    document.getElementById('validationResult1').style.display = 'block';
                    document.getElementById('validationContent1').innerHTML = `
                        <div class="validation-item">
                            <div class="validation-icon success">‚úì</div>
                            <div>
                                <strong>File vnstock_listing_companies.csv</strong>
                                <div>ƒê·ªãnh d·∫°ng: CSV UTF-8</div>
                                <div>K√≠ch th∆∞·ªõc: 245 KB</div>
                            </div>
                        </div>
                        <div class="validation-item">
                            <div class="validation-icon success">‚úì</div>
                            <div>
                                <strong>File SZL.csv</strong>
                                <div>ƒê·ªãnh d·∫°ng: CSV UTF-8</div>
                                <div>K√≠ch th∆∞·ªõc: 18 KB</div>
                            </div>
                        </div>
                        <div class="validation-item">
                            <div class="validation-icon success">‚úì</div>
                            <div>
                                <strong>Ki·ªÉm tra c·∫•u tr√∫c</strong>
                                <div>T·∫•t c·∫£ c·ªôt c·∫ßn thi·∫øt ƒë√£ ƒë∆∞·ª£c x√°c nh·∫≠n</div>
                            </div>
                        </div>
                    `;
                } else {
                    addOutput(outputContainer, '‚ùå Thi·∫øu file c·∫ßn thi·∫øt! Vui l√≤ng upload ƒë·ªß 2 file CSV.', 'error');
                    addOutput(outputContainer, 'üìã Y√™u c·∫ßu: vnstock_listing_companies.csv v√† SZL.csv', 'error');
                }
            }, 800);
        }
        
        function simulateStep2(outputContainer) {
            addOutput(outputContainer, 'üìñ ƒêang ƒë·ªçc file vnstock_listing_companies.csv...', 'warning');
            addOutput(outputContainer, 'üîç Ph√¢n t√≠ch c·∫•u tr√∫c d·ªØ li·ªáu...', 'info');
            
            setTimeout(() => {
                addOutput(outputContainer, '‚úÖ File ƒë√£ ƒë∆∞·ª£c ƒë·ªçc th√†nh c√¥ng', 'success');
                addOutput(outputContainer, 'üìä ƒêang ph√¢n t√≠ch schema...', 'info');
                addOutput(outputContainer, '', '');
                addOutput(outputContainer, 'Danh s√°ch c√°c c·ªôt:', '');
                addOutput(outputContainer, "['ticker', 'exchange', 'shortName', 'industry', 'industryEn', 'establishedYear', 'noEmployees', 'noShareholders', 'foreignPercent', 'website', 'stockRating', 'outstandingShare', 'issueShare', 'companyType', 'monthlyRecords']", '');
                addOutput(outputContainer, '', '');
                addOutput(outputContainer, 'S·ªë d√≤ng d·ªØ li·ªáu: 1,155', 'success');
                addOutput(outputContainer, '‚úÖ Kh√¥ng c√≥ d·ªØ li·ªáu missing', 'success');
                addOutput(outputContainer, 'üîç Ki·ªÉm tra ki·ªÉu d·ªØ li·ªáu... OK', 'success');
            }, 1200);
        }
        
        function simulateStep3(outputContainer) {
            addOutput(outputContainer, 'üîé ƒêang t√¨m m√£ c·ªï phi·∫øu t·ª´ MSSV...', 'warning');
            addOutput(outputContainer, 'üìù √Åp d·ª•ng c√¥ng th·ª©c: (3055 % 1000) = 55', 'info');
            
            setTimeout(() => {
                addOutput(outputContainer, 'MSSV: 23133055', '');
                addOutput(outputContainer, '4 ch·ªØ s·ªë cu·ªëi: 3055', '');
                addOutput(outputContainer, 'Index d√πng: 55', '');
                addOutput(outputContainer, '‚úÖ Ticker ƒë∆∞·ª£c ch·ªçn: SZL', 'success');
                addOutput(outputContainer, 'üè¢ T√™n c√¥ng ty: Sonadezi Long Th√†nh', '');
                addOutput(outputContainer, 'üìÅ File l·ªãch s·ª≠: SZL.csv', '');
                addOutput(outputContainer, 'üìç Ng√†nh: B·∫•t ƒë·ªông s·∫£n', '');
                addOutput(outputContainer, 'üéØ ƒê√£ x√°c ƒë·ªãnh th√†nh c√¥ng m√£ c·ªï phi·∫øu!', 'success');
            }, 1000);
        }
        
        function simulateStep4(outputContainer) {
            addOutput(outputContainer, 'üìä ƒêang th·ªëng k√™ d·ªØ li·ªáu th√°ng 8-9/2023...', 'warning');
            addOutput(outputContainer, 'üîç L·ªçc d·ªØ li·ªáu theo kho·∫£ng th·ªùi gian...', 'info');
            
            setTimeout(() => {
                addOutput(outputContainer, '‚úÖ ƒê√£ ho√†n th√†nh th·ªëng k√™', 'success');
                addOutput(outputContainer, 'üìÖ S·ªë ng√†y giao d·ªãch: 40', '');
                addOutput(outputContainer, 'üì¶ T·ªïng kh·ªëi l∆∞·ª£ng: 106,600', '');
                addOutput(outputContainer, 'üí∞ Gi√° Close trung b√¨nh: 53,818', '');
                addOutput(outputContainer, 'üìà Gi√° Close cao nh·∫•t: 56,500', '');
                addOutput(outputContainer, 'üìâ Gi√° Close th·∫•p nh·∫•t: 50,500', '');
                addOutput(outputContainer, 'üìä Bi√™n ƒë·ªô gi√° trung b√¨nh: 605', '');
                addOutput(outputContainer, 'üìã Kh·ªëi l∆∞·ª£ng trung b√¨nh: 2,665', '');
                
                // C·∫≠p nh·∫≠t stat cards
                document.getElementById('statDays').textContent = '40';
                document.getElementById('statVolume').textContent = '106K';
                document.getElementById('statAvgPrice').textContent = '53,818';
                document.getElementById('statRange').textContent = '605';
            }, 1000);
        }
        
        function simulateStep5(outputContainer) {
            addOutput(outputContainer, 'üìà ƒêang t·∫°o c·ªôt Info01...', 'warning');
            addOutput(outputContainer, 'üîç So s√°nh Close vs Open trong ng√†y...', 'info');
            
            setTimeout(() => {
                addOutput(outputContainer, '‚úÖ ƒê√£ t·∫°o th√†nh c√¥ng c·ªôt Info01', 'success');
                addOutput(outputContainer, '', '');
                addOutput(outputContainer, 'Ph√¢n b·ªë gi√° tr·ªã Info01:', '');
                addOutput(outputContainer, 'Info01', '');
                addOutput(outputContainer, '-1     7', '');
                addOutput(outputContainer, ' 0    13', '');
                addOutput(outputContainer, ' 1    20', '');
                addOutput(outputContainer, '', '');
                addOutput(outputContainer, 'Gi·∫£i th√≠ch: 1=Close>Open, -1=Close<Open, 0=Close=Open', 'info');
                addOutput(outputContainer, 'üìä T·ª∑ l·ªá ng√†y tƒÉng gi√°: 50%', 'success');
                addOutput(outputContainer, 'üìà Xu h∆∞·ªõng t√≠ch c·ª±c chi·∫øm ∆∞u th·∫ø', 'success');
            }, 1000);
        }
        
        function simulateStep6(outputContainer) {
            addOutput(outputContainer, 'üìâ ƒêang t·∫°o c·ªôt Info02...', 'warning');
            addOutput(outputContainer, 'üîç So s√°nh Close vs Close ng√†y tr∆∞·ªõc...', 'info');
            
            setTimeout(() => {
                addOutput(outputContainer, '‚úÖ ƒê√£ t·∫°o th√†nh c√¥ng c·ªôt Info02', 'success');
                addOutput(outputContainer, '', '');
                addOutput(outputContainer, 'Ph√¢n b·ªë gi√° tr·ªã Info02:', '');
                addOutput(outputContainer, 'Info02', '');
                addOutput(outputContainer, '-1    20', '');
                addOutput(outputContainer, ' 0     8', '');
                addOutput(outputContainer, ' 1    12', '');
                addOutput(outputContainer, '', '');
                addOutput(outputContainer, 'T·ª∑ l·ªá bi·∫øn ƒë·ªông:', '');
                addOutput(outputContainer, 'üìà S·ªë ng√†y tƒÉng: 12 (30.0%)', '');
                addOutput(outputContainer, 'üìâ S·ªë ng√†y gi·∫£m: 20 (50.0%)', '');
                addOutput(outputContainer, '‚ûñ S·ªë ng√†y kh√¥ng ƒë·ªïi: 8 (20.0%)', '');
                addOutput(outputContainer, '‚ö†Ô∏è  Xu h∆∞·ªõng gi·∫£m chi·∫øm ∆∞u th·∫ø trong giai ƒëo·∫°n n√†y', 'warning');
            }, 1000);
        }
        
        function simulateStep7(outputContainer) {
            addOutput(outputContainer, 'üìä ƒêang ph√¢n t√≠ch xu h∆∞·ªõng...', 'warning');
            addOutput(outputContainer, 'üîç T√≠nh to√°n h·ªá s·ªë t∆∞∆°ng quan...', 'info');
            
            setTimeout(() => {
                addOutput(outputContainer, '‚úÖ ƒê√£ ho√†n th√†nh ph√¢n t√≠ch xu h∆∞·ªõng', 'success');
                addOutput(outputContainer, '', '');
                addOutput(outputContainer, 'H·ªá s·ªë t∆∞∆°ng quan Volume-Close: -0.1428', '');
                addOutput(outputContainer, 'üìâ M·ªëi quan h·ªá ngh·ªãch bi·∫øn y·∫øu', 'warning');
                addOutput(outputContainer, '', '');
                addOutput(outputContainer, 'Th·ªëng k√™ theo tu·∫ßn:', '');
                addOutput(outputContainer, '        close       volume Info02', '');
                addOutput(outputContainer, '       mean    std    sum <lambda>', '');
                addOutput(outputContainer, 'Week', '');
                addOutput(outputContainer, '31   54150.00   707.11  13200      1', '');
                addOutput(outputContainer, '32   53925.00  1583.45  26700      2', '');
                addOutput(outputContainer, '33   54116.67  1695.02  19900      2', '');
                addOutput(outputContainer, '34   53514.29  2610.37  18200      2', '');
                addOutput(outputContainer, '35   53785.71  1734.64  15900      2', '');
                addOutput(outputContainer, '36   54100.00  2121.32  12700      3', '');
                addOutput(outputContainer, '', '');
                addOutput(outputContainer, 'S·ªë ng√†y c√≥ volume b·∫•t th∆∞·ªùng: 3', 'info');
                addOutput(outputContainer, 'üìà Tu·∫ßn 36 c√≥ nhi·ªÅu ng√†y tƒÉng gi√° nh·∫•t', 'success');
            }, 1500);
        }
        
        function simulateStep8(outputContainer) {
            addOutput(outputContainer, 'üìà ƒêang t·∫°o bi·ªÉu ƒë·ªì...', 'warning');
            addOutput(outputContainer, 'üé® V·∫Ω bi·ªÉu ƒë·ªì ƒë∆∞·ªùng gi√°...', 'info');
            
            setTimeout(() => {
                addOutput(outputContainer, '‚úÖ ƒê√£ t·∫°o th√†nh c√¥ng bi·ªÉu ƒë·ªì', 'success');
                addOutput(outputContainer, 'üìä Bi·ªÉu ƒë·ªì ƒë∆∞·ªùng: Open vs Close', '');
                addOutput(outputContainer, 'üìä Bi·ªÉu ƒë·ªì c·ªôt: Kh·ªëi l∆∞·ª£ng giao d·ªãch', '');
                addOutput(outputContainer, 'üéØ ƒê√£ l∆∞u h√¨nh ·∫£nh bi·ªÉu ƒë·ªì', 'success');
                addOutput(outputContainer, 'üìà Xu h∆∞·ªõng gi√° ·ªïn ƒë·ªãnh v·ªõi bi·∫øn ƒë·ªông nh·ªè', 'info');
                addOutput(outputContainer, 'üìâ Kh·ªëi l∆∞·ª£ng t·∫≠p trung v√†o c√°c ng√†y bi·∫øn ƒë·ªông m·∫°nh', 'info');
                
                // C·∫≠p nh·∫≠t chart preview
                const chartPlaceholder = document.querySelector('.chart-placeholder');
                if (chartPlaceholder) {
                    chartPlaceholder.innerHTML = 'üìà Bi·ªÉu ƒë·ªì ƒë√£ ƒë∆∞·ª£c t·∫°o th√†nh c√¥ng!<br><small>Trong m√¥i tr∆∞·ªùng th·ª±c t·∫ø, bi·ªÉu ƒë·ªì matplotlib s·∫Ω hi·ªÉn th·ªã t·∫°i ƒë√¢y</small>';
                    chartPlaceholder.style.background = 'linear-gradient(135deg, #dbeafe, #e0e7ff)';
                    chartPlaceholder.style.color = '#2563eb';
                }
            }, 2000);
        }
        
        function simulateStep9(outputContainer) {
            addOutput(outputContainer, 'ü§ñ ƒêang x√¢y d·ª±ng m√¥ h√¨nh h·ªìi quy...', 'warning');
            addOutput(outputContainer, 'üîç Chu·∫©n b·ªã d·ªØ li·ªáu training...', 'info');
            
            setTimeout(() => {
                addOutput(outputContainer, '‚úÖ ƒê√£ hu·∫•n luy·ªán th√†nh c√¥ng m√¥ h√¨nh', 'success');
                addOutput(outputContainer, '', '');
                addOutput(outputContainer, 'K·∫æT QU·∫¢ M√î H√åNH H·ªíI QUY:', '');
                addOutput(outputContainer, 'H·ªá s·ªë h·ªìi quy: -0.10520014', '');
                addOutput(outputContainer, 'Intercept: 54072.36', '');
                addOutput(outputContainer, 'R¬≤ (ƒê·ªô ph√π h·ª£p): -0.0412', '');
                addOutput(outputContainer, 'RMSE (Sai s·ªë): 1768.88', '');
                addOutput(outputContainer, '', '');
                addOutput(outputContainer, '‚ö†Ô∏è  M√¥ h√¨nh c√≥ R¬≤ √¢m - kh√¥ng ph√π h·ª£p', 'warning');
                addOutput(outputContainer, 'üí° Volume v√† Close kh√¥ng c√≥ quan h·ªá tuy·∫øn t√≠nh m·∫°nh', 'info');
                addOutput(outputContainer, '', '');
                addOutput(outputContainer, 'D·ª∞ ƒêO√ÅN CHO 10 GI√Å TR·ªä VOLUME:', '');
                addOutput(outputContainer, 'Volume =    1,000 ‚Üí Predicted Close =    53962', '');
                addOutput(outputContainer, 'Volume =    5,000 ‚Üí Predicted Close =    53912', '');
                addOutput(outputContainer, 'Volume =   10,000 ‚Üí Predicted Close =    53867', '');
                addOutput(outputContainer, 'Volume =   25,000 ‚Üí Predicted Close =    53750', '');
                addOutput(outputContainer, 'Volume =   50,000 ‚Üí Predicted Close =    53557', '');
                addOutput(outputContainer, 'Volume =   75,000 ‚Üí Predicted Close =    53364', '');
                addOutput(outputContainer, 'Volume =  100,000 ‚Üí Predicted Close =    53171', '');
                addOutput(outputContainer, 'Volume =  250,000 ‚Üí Predicted Close =    51997', '');
                addOutput(outputContainer, 'Volume =  500,000 ‚Üí Predicted Close =    49822', '');
                addOutput(outputContainer, 'Volume = 1,000,000 ‚Üí Predicted Close =    45572', '');
            }, 2500);
        }
        
        function simulateStep10(outputContainer) {
            addOutput(outputContainer, 'üéØ ƒêang t·ªïng k·∫øt k·∫øt qu·∫£...', 'warning');
            addOutput(outputContainer, 'üìÅ Chu·∫©n b·ªã xu·∫•t file k·∫øt qu·∫£...', 'info');
            
            setTimeout(() => {
                addOutput(outputContainer, 'üéâ PH√ÇN T√çCH HO√ÄN T·∫§T!', 'success');
                addOutput(outputContainer, 'üìÅ File k·∫øt qu·∫£: output/SZL_Stock.csv', '');
                addOutput(outputContainer, 'üìä K√≠ch th∆∞·ªõc d·ªØ li·ªáu: (40, 9)', '');
                addOutput(outputContainer, '', '');
                addOutput(outputContainer, 'üìà T·ªîNG K·∫æT PH√ÇN T√çCH:', '');
                addOutput(outputContainer, '‚Ä¢ M√£ c·ªï phi·∫øu: SZL - Sonadezi Long Th√†nh', '');
                addOutput(outputContainer, '‚Ä¢ S·ªë ng√†y ph√¢n t√≠ch: 40', '');
                addOutput(outputContainer, '‚Ä¢ Gi√° Close trung b√¨nh: 53,818', '');
                addOutput(outputContainer, '‚Ä¢ T·ªïng kh·ªëi l∆∞·ª£ng: 106,600', '');
                addOutput(outputContainer, '‚Ä¢ S·ªë ng√†y tƒÉng/gi·∫£m: 12/20', '');
                addOutput(outputContainer, '‚Ä¢ Ch·∫•t l∆∞·ª£ng m√¥ h√¨nh h·ªìi quy: R¬≤ = -0.0412', '');
                addOutput(outputContainer, '', '');
                addOutput(outputContainer, '‚úÖ T·∫•t c·∫£ c√°c b∆∞·ªõc ƒë√£ ƒë∆∞·ª£c ho√†n th√†nh th√†nh c√¥ng!', 'success');
                
                // C·∫≠p nh·∫≠t completion report
                document.getElementById('completionReport').innerHTML = `
                    <div class="validation-item">
                        <div class="validation-icon success">‚úì</div>
                        <div>
                            <strong>D·ªØ li·ªáu ƒë·∫ßu v√†o</strong>
                            <div>‚úÖ ƒê√£ x√°c th·ª±c 2 file CSV</div>
                        </div>
                    </div>
                    <div class="validation-item">
                        <div class="validation-icon success">‚úì</div>
                        <div>
                            <strong>Ph√¢n t√≠ch c∆° b·∫£n</strong>
                            <div>‚úÖ Th·ªëng k√™ m√¥ t·∫£ ho√†n t·∫•t</div>
                        </div>
                    </div>
                    <div class="validation-item">
                        <div class="validation-icon success">‚úì</div>
                        <div>
                            <strong>X·ª≠ l√Ω d·ªØ li·ªáu</strong>
                            <div>‚úÖ ƒê√£ t·∫°o 2 c·ªôt th√¥ng tin m·ªõi</div>
                        </div>
                    </div>
                    <div class="validation-item">
                        <div class="validation-icon success">‚úì</div>
                        <div>
                            <strong>Ph√¢n t√≠ch n√¢ng cao</strong>
                            <div>‚úÖ Xu h∆∞·ªõng v√† t∆∞∆°ng quan</div>
                        </div>
                    </div>
                    <div class="validation-item">
                        <div class="validation-icon success">‚úì</div>
                        <div>
                            <strong>Tr·ª±c quan h√≥a</strong>
                            <div>‚úÖ Bi·ªÉu ƒë·ªì v√† m√¥ h√¨nh</div>
                        </div>
                    </div>
                    <div class="validation-item">
                        <div class="validation-icon success">‚úì</div>
                        <div>
                            <strong>K·∫øt qu·∫£ ƒë·∫ßu ra</strong>
                            <div>‚úÖ File CSV ƒë√£ ƒë∆∞·ª£c xu·∫•t</div>
                        </div>
                    </div>
                `;
            }, 2000);
        }
        
        // H√†m th√™m output
        function addOutput(container, text, type = '') {
            if (!container) return;
            
            const outputLine = document.createElement('div');
            outputLine.className = `output-line ${type}`;
            
            // Th√™m icon t∆∞∆°ng ·ª©ng v·ªõi type
            let icon = '';
            if (type === 'success') icon = '‚úÖ ';
            else if (type === 'error') icon = '‚ùå ';
            else if (type === 'warning') icon = '‚ö†Ô∏è ';
            else if (type === 'info') icon = 'üîç ';
            
            outputLine.textContent = icon + text;
            container.appendChild(outputLine);
            container.scrollTop = container.scrollHeight;
        }
        
        // H√†m next step
        function nextStep() {
            if (currentStep < totalSteps) {
                goToStep(currentStep + 1);
            }
        }
        
        // H√†m prev step
        function prevStep() {
            if (currentStep > 1) {
                goToStep(currentStep - 1);
            }
        }
        
        // H√†m reset step
        function resetStep(stepNumber) {
            const outputContainer = document.getElementById(`output${stepNumber}`);
            const nextButton = document.getElementById(`nextBtn${stepNumber}`);
            const stepStatus = document.querySelector(`.step-item[data-step="${stepNumber}"] .step-status`);
            
            if (outputContainer) outputContainer.innerHTML = '';
            if (nextButton) nextButton.disabled = true;
            if (stepStatus) {
                stepStatus.textContent = 'Ch·ªù th·ª±c hi·ªán';
                stepStatus.style.color = '';
            }
            
            // ·∫®n validation result n·∫øu l√† step 1
            if (stepNumber === 1) {
                document.getElementById('validationResult1').style.display = 'none';
            }
            
            // Reset stat cards n·∫øu l√† step 4
            if (stepNumber === 4) {
                document.getElementById('statDays').textContent = '0';
                document.getElementById('statVolume').textContent = '0';
                document.getElementById('statAvgPrice').textContent = '0';
                document.getElementById('statRange').textContent = '0';
            }
            
            // X√≥a kh·ªèi completed steps
            completedSteps.delete(stepNumber);
        }
        
        // H√†m reset all
        function resetAll() {
            for (let i = 1; i <= totalSteps; i++) {
                resetStep(i);
            }
            goToStep(1);
            uploadedFiles = [];
            completedSteps.clear();
            document.getElementById('fileList').innerHTML = '';
            updateProgressBar();
        }
        
        // H√†m download results
        function downloadResults() {
            alert('üì• Trong m√¥i tr∆∞·ªùng th·ª±c t·∫ø, file SZL_Stock.csv s·∫Ω ƒë∆∞·ª£c t·∫£i xu·ªëng t·∫°i ƒë√¢y!\n\nFile ƒë√£ ƒë∆∞·ª£c l∆∞u t·∫°i: output/SZL_Stock.csv');
        }
        
        // X·ª≠ l√Ω upload file
        document.getElementById('fileInput').addEventListener('change', function(e) {
            handleFiles(e.target.files);
        });
        
        // Drag and drop
        const uploadArea = document.getElementById('uploadArea');
        if (uploadArea) {
            uploadArea.addEventListener('dragover', function(e) {
                e.preventDefault();
                uploadArea.classList.add('dragover');
            });
            
            uploadArea.addEventListener('dragleave', function() {
                uploadArea.classList.remove('dragover');
            });
            
            uploadArea.addEventListener('drop', function(e) {
                e.preventDefault();
                uploadArea.classList.remove('dragover');
                handleFiles(e.dataTransfer.files);
            });
        }
        
        function handleFiles(files) {
            uploadedFiles = Array.from(files);
            const fileList = document.getElementById('fileList');
            if (!fileList) return;
            
            fileList.innerHTML = '';
            
            uploadedFiles.forEach(file => {
                const fileItem = document.createElement('div');
                fileItem.className = 'file-item';
                fileItem.innerHTML = `
                    <div class="file-icon">üìä</div>
                    <div class="file-info">
                        <div class="file-name">${file.name}</div>
                        <div class="file-size">${(file.size / 1024).toFixed(2)} KB</div>
                    </div>
                `;
                fileList.appendChild(fileItem);
            });
        }
        
        // Copy code
        function copyCode(button) {
            const codeBlock = button.parentElement.querySelector('code');
            if (codeBlock) {
                navigator.clipboard.writeText(codeBlock.textContent).then(() => {
                    const originalText = button.innerHTML;
                    button.innerHTML = '<span>‚úÖ ƒê√£ copy!</span>';
                    setTimeout(() => {
                        button.innerHTML = originalText;
                    }, 2000);
                });
            }
        }
        
        // Kh·ªüi t·∫°o
        document.addEventListener('DOMContentLoaded', function() {
            // Th√™m event listeners cho c√°c step items
            document.querySelectorAll('.step-item').forEach(item => {
                item.addEventListener('click', function() {
                    const stepNumber = parseInt(this.getAttribute('data-step'));
                    goToStep(stepNumber);
                });
            });
            
            // C·∫≠p nh·∫≠t progress bar ban ƒë·∫ßu
            updateProgressBar();
        });
    </script>
</body>
</html>